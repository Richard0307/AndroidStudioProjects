# 线性布局

## 1.相对布局

控件的位置是相对于其他控件或者父容器而言。在进行设计的时候，需要按照控件之间的依赖关系进行排列。

```xml
<!--    增加几个按钮;
layout_centerInParent:如果为true，则表示该控件位于父控件的中央位置；
layout_centerHorizontal:如果为true，则表示该控件位于父控件的居中位置；
layout_centerVertical：如果为true，则表示该控件位于父控件的垂直居中位置；
layout_above:将该控件位于给定控件的上方。
layout_below：将该控件位于给定控件的下方。
layout_toLeftOf：将该控件的右边缘与给定Id的控件的左边缘对齐。
layout_toRightOf：将该控件的左边缘与给定Id的控件的右边缘对齐。

-->
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/bt_center"
        android:layout_centerInParent="true"
        android:text="中间" />
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/bt_up"
        android:layout_above="@+id/bt_center"
        android:layout_centerHorizontal="true"
        android:text="向上"/>
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/bt_down"
        android:layout_below="@+id/bt_center"
        android:layout_centerHorizontal="true"
        android:text="向下"/>
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/bt_left"
        android:layout_toLeftOf="@+id/bt_center"
        android:layout_centerVertical="true"
        android:text="居左"/>
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/bt_right"
        android:layout_toRightOf="@+id/bt_center"
        android:layout_centerVertical="true"
        android:text="居右"/>
</RelativeLayout>
```



## 2.帧布局

帧布局是布局中最简单的一个布局，整个界面被当做一块空白备用区域，所有的子元素都不能指定位置进行放置，全部放置于这块区域的左上角，并且后面的子元素直接覆盖前面的子元素，将前面的子元素部分或者全部覆盖。

整个屏幕作为了一块区域，在这块区域添加多个子控件。

```xml
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
<!--    帧布局
    layout_gravity:center;居中
    -->
    <TextView
        android:layout_width="300dp"
        android:layout_height="300dp"
        android:background="@color/purple_200"
        android:layout_gravity="center"/>
    <TextView
        android:layout_width="250dp"
        android:layout_height="250dp"
        android:background="#03A9F4"
        android:layout_gravity="center"/>
    <TextView
    android:layout_width="200dp"
    android:layout_height="200dp"
    android:background="#E91E63"
    android:layout_gravity="center"/>
    <TextView
        android:layout_width="150dp"
        android:layout_height="150dp"
        android:background="#FFEB3B"
        android:layout_gravity="center"/>

    </FrameLayout>
```



## 3.绝对布局

绝对布局是所有控件的排列由开发人员通过控件的坐标来指定，容器不再负责管理子控件的位置。

AbsoluteLayout：子控件的位置和布局都需要通过坐标来指定，所以，在设计布局的时候，需要开发人员提供子元素精确的横坐标和纵坐标。

绝对布局由坐标控制，缺乏灵活性，维护起来不容易。

layout_x:x坐标

layout_y:y坐标

手机上的坐标原点同PC端一样，都是在屏幕的左上角。

```xml
<?xml version="1.0" encoding="utf-8"?>
<AbsoluteLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">
<!--绝对布局-->
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="我是绝对布局"/>
    <Button
        android:layout_width="200px"
        android:layout_height="wrap_content"
        android:layout_x="300px"
        android:layout_y="300px"
        android:text="开始游戏"/>
</AbsoluteLayout>

```

## 4.表格布局

office：Excel工具

表格布局是按照行和列来组织子视图的布局，包含一系列的TableRow对象，用于定义行。

TableLayout --> TableRow

​	可以包含0个以上的单元格，每个单元格可以设置一个View视图。

landroid:stretchColumns="*" : 表示从0开始的索引项，可以拉伸，*号大体拉伸的所有列。
android:shrinkColumns="*"> ： 收缩从0开始的索引项



```xml
<?xml version="1.0" encoding="utf-8"?>
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:stretchColumns="*"
    android:shrinkColumns="*">
<TextView
    android:layout_height="wrap_content"
    android:layout_width="match_parent"
    android:text="91热门视频下载"
    android:textColor="#FFC107"
    android:textSize="20dp"/>
<!--表格里面包含：TableRow -->
<TableRow
    android:layout_weight="1">
    <!--放置图片，ImageView;src表示图标路径；scaleType：自动适应大小-->
    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico9"
        android:scaleType="fitXY"/>
    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico5"
        android:scaleType="fitXY"/>
    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico4"
        android:scaleType="fitXY"/>
</TableRow>
<TableRow
    android:layout_weight="1">

    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico8"
        android:scaleType="fitXY"/>
    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico1"
        android:scaleType="fitXY"/>
    <ImageView
        android:layout_height="match_parent"
        android:layout_width="match_parent"
        android:src="@mipmap/ico3"
        android:scaleType="fitXY"/>

</TableRow>
```

</TableLayout>

# 常用控件



所谓控件，就是程序员可以控制的组件，将来用户可以和程序进行交互的组件。

## 1.文本控件

TextView：主要用来向用户显示内容。相当于一个标签，只显示

EditText：可以用来编辑内容。	相当于一个文本框，可以编辑

------

控件最重要的是了解它的属性，了解了属性，在了解之后会更加的简单。

省略：android：打头

TextView的属性								Java代码

text  	设置TextView的内容			setText（文本）

textColor 设置文本的颜色				setTextColor（颜色）

textSize  设置文本的大小			      setTextSize(大小)

gravity   定义TextView在x轴和y轴方向上的显示方式

hint：	提示信息							 setHint(int);



EditText属性:相当于文本框			

lines：	设置行数						   setLines(int)

singleLine 单行								setSingleLine(boolean)

password	设置是否是密码		  setTransformationMethod(参数)

phoneNumber 设置内容只能是电话号码  setInputType(InputType类型)

事件监听

setOnkeyListener	对键盘事件进行监听

在前面设计布局的时候，在下面这个文件写代码。

active_main.xml

```xml
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <!--    线性布局，Ctrl+Alt+L键：格式化代码；-->
<!--
    1.行 用户名:    输入框
    2.行 密码：输入框
    3.登陆，取消
    -->
    <!-- 1.第一行线性布局：水平方式
         match_parent:表示使空间填充布局单元内的尽可能多的空间;
         wrap_content:表示使视图扩展以实现全部内容；
         -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="用户"
            android:textSize="20dp"
            android:layout_weight="1"
            android:paddingLeft="10dp"
            android:paddingTop="10dp"/>
        </LinearLayout>
</LinearLayout>
```

```xml
android:orientation="vertical"> 
```

垂直排列

代码总体实现：

```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <!--    线性布局，Ctrl+Alt+L键：格式化代码；-->
<!--
    1.行 用户名:    输入框
    2.行 密码：输入框
    3.登陆，取消
    -->
    <!-- 1.第一行线性布局：水平方式
         match_parent:表示使空间填充布局单元内的尽可能多的空间;
         wrap_content:表示使视图扩展以实现全部内容；
         layout_width:布局宽；
         layout_height:height:布局高度；
         text:文本内容；
         textSize：文本大小；
         layout_weight:字体粗细；
         paddingLeft：左填充；
         paddingTop：上填充；
         -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="用户"
            android:textSize="20dp"
            android:layout_weight="1"
            android:paddingLeft="10dp"
            android:paddingTop="10dp"/>
        <EditText
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="3"/>


        </LinearLayout>
    <!-- 2.第二行，线性布局，水平方式 -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="密码"
            android:textSize="20dp"
            android:layout_weight="1"
            android:paddingLeft="10dp"
            android:paddingTop="10dp"/>
        <EditText
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="3"/>


    </LinearLayout>
    <!--3.第三行，线性布局，水平方式 -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <Button
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:text="登陆">/>

        </Button>
        <Button
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:text="取消">/>

        </Button>
    </LinearLayout>
</LinearLayout>
```

除了LinearLayout线性布局外，里面，讲了三个控件；

1.TextView:显示文本提示信息；

2.EditText:输入框

3.Button:按钮



------

Xml：事件监听

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

<!--    在这里写代码，两个文本类型；TextView EditText；实现在某个EditText
写内容，显示到TextView里面。
-->
    <EditText
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/username"
        android:singleLine="true"
        android:text="请输入用户名"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:id="@+id/nameinfo"
        android:background="#2196F3"
        android:textSize="20dp"/>



</LinearLayout>
```

Java：事件监听

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;

import java.security.Key;

public class MainActivity extends AppCompatActivity {
    //找到界面上的控件，将界面上的控件的值给我们的变量，通过变量来输出；
    //有点意思了。Alt+enter，导入包的类import class
    TextView nameInfo;
    EditText userName;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
    //注意，在输入框的触发一个事件，键盘的监听事件；
        //findViewById：根据id来找到控件
        userName = (EditText) findViewById(R.id.username);
        nameInfo = (TextView) findViewById(R.id.nameinfo);

        //事件监听；这个监听器里面放的是什么呢？
        //View.OnKeyListener一个接口，必须去实现这个接口的抽象方法
        userName.setOnKeyListener(new View.OnKeyListener(){

            @Override
            public boolean onKey(View view, int i , KeyEvent keyEvent) {
                String str = userName.getText().toString();
                nameInfo.setText(str);  //设置内容放到nameInfo上。
                return false;
            }

        });
        //一下子就出来3个抽象法；
        //
        userName.addTextChangedListener(new TextWatcher() {
            @Override
            public void beforeTextChanged(CharSequence cs, int i, int start, int after) {
                        nameInfo.setText("输入前字符串："+cs.toString()+"开始位置:"+start+",结束："+after);
            }

            @Override
            public void onTextChanged(CharSequence cs, int start, int before, int count) {
                nameInfo.setText("输入后字符串："+cs.toString()+"开始位置:"+start+",个数："+count);

            }

            @Override
            public void afterTextChanged(Editable s) {
//                nameInfo.setText("输入结束后字符串："+s.toString());

            }
        });

    }
}
```

## 2.按钮控件

按钮控件就是我们平时看到的Button按钮和ImageButton控件，用的比较多，一般都是用来操纵按钮来实现相应的命令，比如说在手机上很多的查找、登录、注册、各种点击游戏等。

按钮控件名：是啥？

Button

ImageButton：

这个和Button的区别在于它是没有文本的，只有啥？图片，所以需要制定它的图片路径。

Xml按钮实现：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <Button
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/btn01"
        android:text="按钮1"/>

    <Button
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/btn02"
        android:text="按钮2"/>
    <ImageButton
        android:layout_width="wrap_content"
        android:layout_height="100dp"
        android:id="@+id/imgBtn"
        android:src="@mipmap/ico2"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/tv_msg"
        android:textColor="@color/purple_200"
        android:textSize="100dp"/>



</LinearLayout>
```

Java 按钮实现：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.ImageButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity {
    //1.定义变量
    Button btn01,btn02;
    ImageButton imgBtn;
    TextView tv_msg;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
    //2.获取变量给，当前对象；
        btn01 = (Button) findViewById(R.id.btn01);
        btn02 = (Button) findViewById(R.id.btn02);
        imgBtn = (ImageButton) findViewById(R.id.imgBtn);
        tv_msg = (TextView) findViewById(R.id.tv_msg);

        //3.事件监听器
        btn01.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View view) {
                tv_msg.setText("这是按钮1的事件监听方法；");
                
            }

        });
    btn02.setOnClickListener(new OnClickListener(){
        @Override
        public void onClick(View view){
            tv_msg.setText("这是按钮2的事件监听方法；");

        }
    });

    imgBtn.setOnClickListener(new View.OnClickListener(){
        @Override
        public void onClick(View view){
            tv_msg.setText("这是图片按钮的事件监听方法；");
        }

    });
    }
}
```



### 单选按钮

xml代码：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <!--单选按钮 ：RadioButton；性别：2选1 做题的时候4选1
        选中 未选中，两种状态；
        checked                     选中 未选中
        OncheckedChangeListener     设置状态转化监听事件
        如果说要让单选按钮2选1 或 4选1的需要，放到一个按钮组；
    -->
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="性别"/>
    <!--按钮组 -->
    <RadioGroup
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/rg_gender">

        <RadioButton
            android:id="@+id/rb_male"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginLeft="20dp"
            android:text="男" />

        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="女"
            android:layout_marginLeft="20dp"
            android:id="@+id/rb_female"/>



    </RadioGroup>

</LinearLayout>
```

Java 代码实现：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.RadioGroup;
import android.widget.TextView;
import android.widget.ImageButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity {
    //1.设计变量
    RadioGroup rg_gender;
    TextView tv;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
        rg_gender = (RadioGroup) findViewById(R.id.rg_gender);
        tv = (TextView)findViewById(R.id.tv_gender);

        //设置事件监听；
        rg_gender.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {
            @Override
            public void onCheckedChanged(RadioGroup radioGroup, int i) {
                //根据选择的i值进行匹配；
                switch (i){
                    case R.id.rb_male:
                        tv.setTextColor(Color.BLUE);break;
                    case R.id.rb_female:
                        tv.setTextColor(Color.RED);break;

                }

            }
        });

    }
}
```

### 复选框的界面设计

xml代码实现：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
<!--一般用来对兴趣爱好 进行选择 比如 调查问卷 多选题
      checkbox；状态：选中和未选中两种状态，和单选按钮不同的是，可以一次性选择多个-->
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="请选择你的爱好"
        android:textSize="20dp"/>
    <CheckBox
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="游戏"
        android:id="@+id/ck_game"/>
    <CheckBox
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="拳击"
        android:id="@+id/ck_boxing"/>
    <CheckBox
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="看书"
        android:id="@+id/ck_look"/>
    <CheckBox
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="音乐"
        android:id="@+id/ck_music"/>
    <Button
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="确定"
        android:id="@+id/btn_OK"/>
    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/tv_hobby"/>




</LinearLayout>
```

Java代码实现：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.EditText;
import android.widget.RadioGroup;
import android.widget.TextView;
import android.widget.ImageButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity {
    CheckBox ck_music,ck_game,ck_boxing,ck_look;
    Button btn_ok;
    TextView tv_hobby;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
        //获取变量
        ck_game = (CheckBox) findViewById(R.id.ck_game);
        ck_music = (CheckBox)findViewById(R.id.ck_music);
        ck_boxing = (CheckBox)findViewById(R.id.ck_boxing);
        ck_look = (CheckBox)findViewById(R.id.ck_look);
        btn_ok = (Button) findViewById(R.id.btn_OK);
        tv_hobby = (TextView)findViewById(R.id.tv_hobby);

        //-------------------------------------------------

        btn_ok.setOnClickListener(new View.OnClickListener(){
            @Override
            public void onClick(View view) {
                String str = "爱好是：\n";
                //接下来针对复选框做下判断
                if(ck_game.isChecked())
                    str+=ck_game.getText().toString()+"\n";
                if(ck_music.isChecked())
                    str+=ck_music.getText().toString()+"\n";
                if(ck_boxing.isChecked())
                    str+=ck_boxing.getText().toString()+"\n";
                if(ck_look.isChecked())
                    str+=ck_look.getText().toString()+"\n";

                //判断完后设置到tv_hobby里
                tv_hobby.setText(str);



            }
        });
    }
}
```

### 图像按钮的界面设计

Xml代码实现：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
<!--ImageView   图片控件；Drawable对象或者是bitmap对象
    src:路径图片
    maxHeight/maxWidth
    scaleType:调整尺寸
    -->
    <androidx.constraintlayout.utils.widget.ImageFilterView
        android:layout_width="match_parent"
        android:layout_height="300dp"
        android:src="@mipmap/ico11"
        android:id="@+id/myImg"/>
    <RadioGroup
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:id="@+id/rg_scale">
        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/rb_center"
            android:text="Center"/>
        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/rb_centerCrop"
            android:text="CenterCrop"/>

        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/rb_centerInside"
            android:text="CenterInside"/>
        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/rb_fitEnd"
            android:text="fitEnd"/>
        <RadioButton
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/rb_rb_fitStart"
            android:text="fitStart"/>


    </RadioGroup>


</LinearLayout>
```

Java代码实现：

```JAVA
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.RadioGroup;
import android.widget.TextView;
import android.widget.ImageButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity {
    ImageView myImg;
    RadioGroup rg_scale;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
        myImg = (ImageView) findViewById(R.id.myImg);
        rg_scale= (RadioGroup)findViewById(R.id.rg_scale);

        //针对单选按钮做下测试：
        rg_scale.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener(){
            @Override
            public void onCheckedChanged(RadioGroup radioGroup,int i){
                switch (i){
                    case R.id.rb_center:
                        myImg.setScaleType(ImageView.ScaleType.CENTER);break;
                    case R.id.rb_centerCrop:
                        myImg.setScaleType(ImageView.ScaleType.CENTER_CROP);break;
                    case R.id.rb_centerInside:
                        myImg.setScaleType(ImageView.ScaleType.CENTER_INSIDE);break;
                    case R.id.rb_fitEnd:
                        myImg.setScaleType(ImageView.ScaleType.FIT_END);break;
                    case R.id.rb_rb_fitStart:
                        myImg.setScaleType(ImageView.ScaleType.FIT_START);break;
                }
            }
        });

        //-------------------------------------------------

    }
}
```

### 日期时间控件

------

日期时间控件：

DatePicker和TimePicker

DatePicker：向用户提供年、月、日的日期数据，并允许用户进行选择；

监听：OnDateChangedListener事件

TimePick：向用户提供一天中的时间数据，并允许用户进行选择；

监听：OnTimeChangListener事件

Xml代码如下：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <DatePicker
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/my_dp"
        android:layout_gravity="center_horizontal"/>
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="当前选择的时间"
            android:textSize="30dp"/>
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/tv_msg"
            android:textSize="30dp"
            android:textColor="@color/purple_200"/>


</LinearLayout>
```

Java代码如下：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.RadioGroup;
import android.widget.TextView;
import android.widget.ImageButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity {
    DatePicker my_dp;
    TextView tv_msg;
    int year;
    int month;
    int day;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
        my_dp = (DatePicker)findViewById(R.id.my_dp);
        tv_msg = (TextView)findViewById(R.id.tv_msg);

        my_dp.init(year,month,day,new DatePicker.OnDateChangedListener(){
            @Override
            public void onDateChanged(DatePicker view,int y, int m, int d){

                MainActivity.this.year = y;
                MainActivity.this.month = m;
                MainActivity.this.day = d;
                tv_msg.setText(year+"年"+month+"月"+day+"日");
            }
        });

    }
}
```



### 开关与切换按钮控件

App里面，打开、关闭的情况。Switch（开关控件）、ToggleButton（切换按钮控件）

Switch开关控件

showText 	 是否显示文字

splitTrack 	是否设置一个间隙，让滑块与底部图片分割

checked		设置是否选中

ToggleButton控件

disableAlpha		在禁用的时候，透明度

textOff 				  没有选中的时候文字

textOn				  被选中的时候显示的文字

Xml实现代码：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="消息通知"
        android:textSize="20dp"/>
     <Switch
         android:layout_width="match_parent"
         android:layout_height="50dp"
         android:id="@+id/sw_sound"
         android:text="声音"
         android:switchMinWidth="50dp"
         android:showText="true"
         android:textSize="20dp"
         android:layout_marginLeft="20dp"/>
     <Switch
        android:layout_width="match_parent"
        android:layout_height="50dp"
        android:id="@+id/sw_vabrate"
        android:text="震动"
        android:switchMinWidth="50dp"
        android:showText="true"
        android:textSize="20dp"
        android:layout_marginLeft="20dp"/>

     <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="网络设置"
        android:textSize="20dp"/>
     <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="飞行模式"
            android:textSize="20dp"
            android:layout_gravity="center_vertical"
            android:layout_marginLeft="20dp"/>
        <ToggleButton
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:id="@+id/tb_flying"
                android:layout_gravity="right"/>
        </LinearLayout>
     <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:text="移动数据"
            android:textSize="20dp"
            android:layout_gravity="center_vertical"
            android:layout_marginLeft="20dp"/>
        <ToggleButton
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:id="@+id/tb_digital"
            android:layout_gravity="right"/>
     </LinearLayout>
     <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="当前设置为："
            android:textSize="20dp"/>
    <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:id="@+id/tv_setting"
            android:textSize="20dp"/>


</LinearLayout>
```

Java代码实现：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.RadioGroup;
import android.widget.Switch;
import android.widget.TextView;
import android.widget.ImageButton;
import android.widget.ToggleButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity implements CompoundButton.OnCheckedChangeListener {
    Switch sw_sound,sw_vabrate;
    ToggleButton tb_flying,tb_digital;
    TextView tv_setting;



    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------
        sw_sound = (Switch)findViewById(R.id.sw_sound);
        sw_vabrate = (Switch) findViewById(R.id.sw_vabrate);
        tb_flying = (ToggleButton)  findViewById(R.id.tb_flying);
        tb_digital = (ToggleButton)  findViewById(R.id.tb_digital);
        tv_setting = (TextView)  findViewById(R.id.tv_setting);

        //这4个对象，监听事件，放的是本身；发现这下面的this不再报错；
            //这时候，当前类对象作为参数，传到监听事件了
        sw_sound.setOnCheckedChangeListener(this);
        sw_vabrate.setOnCheckedChangeListener(this);
        tb_flying.setOnCheckedChangeListener(this);
        tb_digital.setOnCheckedChangeListener(this);


    }

    /**
     * 重写该方法，则不会报错，现在合并到一起。
     * @param compoundButton
     * @param b
     */
    @Override
    public void onCheckedChanged(CompoundButton view, boolean isChecked){
        String str = "";
        switch (view.getId()){
            case R.id.sw_sound:
                str =isChecked?"声音：打开":"声音：关闭";
                break;
            case R.id.sw_vabrate:
                str =isChecked?"震动：打开":"震动：关闭";
                break;
            case R.id.tb_flying:
                str =isChecked?"飞行模式：打开":"飞行模式：关闭";
                break;
            case R.id.tb_digital:
                str =isChecked?"移动数据：打开":"移动数据：关闭";
                break;
        }
        //目的不是显示：
        tv_setting.setText(str);
    }
}
```



------

## 高级控件

### 1.自动完成文本控件

------

> 在搜索引擎（百度、搜狗）输入几个文字，会出来一些提示。可以减少用户的输入，提高程序的效率。
>
> 百度的自动提示，是ajax技术。

1.AutoCompleteTextView

​		取消下拉：Esc 或 BackSpace键

步骤：

1.定义一个字符串数组（有后台了，从后台读取），用于保存自动提示的数据。

2.将此字符串数组放入到数组适配器（ArrayAdapter）。

3.利用AutoCompleteTextView的SetAdapter（）方法，将字符串数组放入到AutoCompleteTextView对象中，设置自动完成文本控件的适配器。



2.MutilAutoCompleteTextView



单行自动完成文本控件Xml代码如下：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="自动完成文本实例"
        android:textSize="20dp"/>
    <!--加入实例 -->
    <AutoCompleteTextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/myAuto"
        android:hint="请输入您需要的名字"/>


</LinearLayout>
```

单行自动完成文本控件Java代码如下：

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.RadioGroup;
import android.widget.Switch;
import android.widget.TextView;
import android.widget.ImageButton;
import android.widget.ToggleButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity  {
    //定义字符串数组；
    String[]arr = {"Coco","Candice","Jisoo","Yummy"};
    AutoCompleteTextView myAuto;




    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------


        //获取内容
        //1.当前对象，单行项目行；填充内容
        ArrayAdapter<String> adapter = new ArrayAdapter<>(this, android.R.layout.simple_dropdown_item_1line,arr);
        myAuto=(AutoCompleteTextView) findViewById(R.id.myAuto);

        myAuto.setAdapter(adapter);
        //设置显示自动提示需要的字符串
        myAuto.setThreshold(1);



        }
}
```



多行自动..xml

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="自动完成文本实例"
        android:textSize="20dp"/>
    <!--加入实例 -->
    <AutoCompleteTextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/myAuto"
        android:hint="请输入您需要的城市"/>

    <!--加入多行 -->
    <MultiAutoCompleteTextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/myMulti"
        android:hint="请输入名称"/>
</LinearLayout>
```

多行自动..Java

```java
package com.example.hqq02;
//这个是包的定义
//import 导入相关的类
import androidx.appcompat.app.AppCompatActivity;

import android.graphics.Color;
import android.os.Bundle;
import android.text.Editable;
import android.text.TextWatcher;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.AutoCompleteTextView;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.CompoundButton;
import android.widget.DatePicker;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.MultiAutoCompleteTextView;
import android.widget.RadioGroup;
import android.widget.Switch;
import android.widget.TextView;
import android.widget.ImageButton;
import android.widget.ToggleButton;


import java.security.Key;

public class MainActivity extends AppCompatActivity  {
    //定义字符串数组；
    String[]arr = {"Coco","Candice","Jisoo","Yummy"};
    AutoCompleteTextView myAuto;
    MultiAutoCompleteTextView myMulti;




    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
//-----------------------------------------------------


        //获取内容
        //1.当前对象，单行项目行；填充内容
        ArrayAdapter<String> adapter = new ArrayAdapter<>(this, android.R.layout.simple_dropdown_item_1line,arr);
        myAuto=(AutoCompleteTextView) findViewById(R.id.myAuto);
        myMulti=(MultiAutoCompleteTextView) findViewById(R.id.myMulti);


        myAuto.setAdapter(adapter);
        //设置显示自动提示需要的字符串
        myAuto.setThreshold(1);
        //------------------------------------------
        myMulti.setAdapter(adapter);
        myMulti.setTokenizer(new MultiAutoCompleteTextView.CommaTokenizer());
        myMulti.setThreshold(1);



        }
}
```

### 2.下拉列表控件

------

Spinner，当用户单击该控件的时候，弹出选择列表供用户选择，且只能选择一项。同网页中的Select,同C#中的Combox.

使用步骤：

1.先定义一个字符串数组，用于保存下拉列表的数据;在实际使用中，可以从数据库获取数据;

2.将此字符串数组存入数组适配器（ArrayAdapter）

3.利用Spinner的setAdapter（）方法，将适配器加入到Spinner对象中，设置自动完成文本框的适配器。

属性：

spinnerMode：			设置下拉列表的模式; dialog 或者dropdown

dropDownWidth		getDropDownWidth()

​									 setDropDownWidth（int pix）	设置下拉框的宽度

gravity									 getGravity()/setGravity() 	设置选定项目的对齐方式

事件	

​				setOnItemSelectedListener(AdapterView.OnItemSelectedListener)	当列表被选中时触发的事件

------

xml代码：

```xml
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">
   <!--设计界面 -->
    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/tv"
        android:text="请选择城市"
        android:textSize="20dp"/>
    <Spinner
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/citySp"
        android:spinnerMode="dialog"/>
    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:id="@+id/tv_city"
        android:textSize="20dp"/>


</LinearLayout>
```
